<template name="Administrador">
	{{#if isInRole 'admin' 'default-group'}}
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Industec</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="/gerencia">Usuarios</a></li>
            <li><a href="/gerencia/secciones">Secciones</a></li>


          </ul>
          <ul class="nav navbar-nav navbar-right">


            <li><a href="#">Salir</a></li>
          </ul>
        </div>
      </div>
    </nav>
	{{>Template.dynamic template=contenido}}
	{{else}}
		{{>loginAdmin}}
	{{/if}}


</template>

<template name="loginAdmin">
	<div class="container">
		<div class="col-md-12">
			<form>
				<div class="form-group">
    				<label for="email">Email</label>
    				<input id="email" type="email" class="form-control" name="email">
  				</div>
  				<div class="form-group">
    				<label for="pwd">Contraseña</label>
    				<input type="password" name="password" class="form-control" id="pwd">
  				</div>
  				<button type="submit" id="existente" class="btn btn-default">Entrar</button>
			</form>
		</div>
	</div>
</template>

<template name="usuarios">
	{{>formularioUsuario}}
	<hr>
	{{>listaDeUsuarios}}
</template>

<template name="formularioUsuario">
	<div class="container">
  		<h2>Usuarios</h2>
  		<ul class="nav nav-tabs">
    		<li class="active"><a data-toggle="tab" href="#home">Usuario con rol existente</a></li>
    		<li><a data-toggle="tab" href="#menu1">Usuario con nuevo rol</a></li>
   		</ul>

  <div class="tab-content">
    <div id="home" class="tab-pane fade in active">
      	<h3>Agregar usuario con rol existente</h3>
    	<form>
  			<div class="form-group">
    			<label for="email">Email</label>
    			<input id="email" type="email" class="form-control" name="email">
  			</div>
  			<div class="form-group">
    			<label for="pwd">Contraseña</label>
    			<input type="password" name="password" class="form-control" id="pwd">
  			</div>
  			<div class="form-group">
  				<label for="sel1">Roles</label>
      			<select class="form-control" id="tipo">
        			{{#each tipos}}
						<option value="{{this._id}}">{{this.nombre}}</option>
        			{{/each}}
      			</select>
  			</div>

  			<button type="submit" id="existente" class="btn btn-default">Registrar</button>
		</form>
    </div>
    <div id="menu1" class="tab-pane fade">
    	<h3>Agregar usuario con nuevo rol</h3>
    	<form>
  			<div class="form-group">
    			<label for="email">Email</label>
    			<input id="email" type="email" class="form-control" name="email2">
  			</div>
  			<div class="form-group">
    			<label for="pwd">Contraseña</label>
    			<input type="password" name="password2" class="form-control" id="pwd">
  			</div>
  			<div class="form-group">
  				<label for="usr">Nuevo rol</label>
  				<input type="text" name="rol" class="form-control" id="usr">
  			</div>
  			<button type="submit" id="noexistente" class="btn btn-default">Registrar</button>
		</form>
    </div>
  </div>
</div>

</template>

<template name="listaDeUsuarios">
<div class="container">
  <h2>Usuarios</h2>
  <p>Lista de usuarios con sus respectivos roles:</p>
  <div class="table-responsive">
  <table class="table">
    <thead>
      <tr>
        <th>Email</th>
        <th>Rol</th>

      </tr>
    </thead>
    <tbody>
      {{#each usuarios}}
      <tr>
        <td>{{email}}</td>
        <td>{{tipo}}</td>
      </tr>
      {{/each}}
    </tbody>
  </table>
  </div>
</div>

</template>

<template name="AdminSecciones">
	{{>FormularioSeccion}}
	<hr>
	{{>ListaDeSecciones}}
</template>

<template name="FormularioSeccion">
	<div class="container">
		
			<h3>Secciones</h3>
			<ul class="nav nav-tabs">
    		<li class="active"><a data-toggle="tab" href="#home">Agregar nueva sección</a></li>
    		<li><a data-toggle="tab" href="#menu1">Agregar contenido</a></li>
   		</ul>
    	
		  <div class="tab-content">
    <div id="home" class="tab-pane fade in active">
      	<h3>Agregar nueva sección</h3>
    	<form>
  			<div class="form-group">
    			<label for="seccion">Nombre</label>
    			<input id="seccion" type="text" class="form-control" name="seccion">
  			</div>
  			<div class="form-group">
    			<label for="descripción">Descripción</label>
    			<input type="text" name="descripcion" class="form-control" id="descripción">
  			</div>
  			<div class="form-group">
  				<div id="cp3" class="input-group colorpicker-component">
    				<input type="text" value="#00AABB" name="color" id="color" class="form-control color" />
    				<span class="input-group-addon"><i></i></span>
				</div>
  			</div>
  			<div class="form-group">
  				<label for="sel1">Roles asociados</label>
      			<select class="form-control" id="tipo">
        			{{#each tipos}}
						<option value="{{this._id}}">{{this.nombre}}</option>
        			{{/each}}
      			</select>
  			</div>
  			<button type="submit" class="btn btn-default">Registrar</button>
		</form>
    </div>
    <div id="menu1" class="tab-pane fade">
    	<h3>Agregar contenido</h3>
    	<form>
  			<div class="form-group">
    			<label for="seccion">Titulo</label>
    			<input id="seccion" type="text" class="form-control" name="titulo">
  			</div>
  			<div class="form-group">
    			<label for="descripción">Contenido</label>
    			<textarea class="form-control" rows="5" id="contenido"></textarea>
  			</div>
  			<div class="form-group">
  				<label for="archivo">Adjuntar foto o video</label>
  				<input type="file" id="myArchivo">
  			</div>
  			<div class="form-group">
  				<label for="sel1">Sección asociada</label>
      			<select class="form-control" id="seccio">
        			{{#each secciones}}
						<option value="{{this._id}}">{{this.nombre}}</option>
        			{{/each}}
      			</select>
  			</div>
  			<button type="submit" id="agregar-contenido" class="btn btn-default">Agregar</button>
		</form>
    </div>
  </div>
    	
	
	</div>
</template>

<template name="ListaDeSecciones">
<div class="container">
  <h2>Secciones</h2>
  <p>Lista de secciones con sus respectivos roles:</p>
  <div class="table-responsive">
  <table class="table">
    <thead>
      <tr>
        <th>Seccion</th>
        <th>Rol</th>

      </tr>
    </thead>
    <tbody>
      {{#each secciones}}
      <tr>
        <td>{{nombre}}</td>
        <td>{{tipo}}</td>
      </tr>
     {{/each}}
    </tbody>
  </table>
  </div>
</div>

</template>

<template name="registro">
  <form>
        <div class="form-group">
          <label for="email">Email</label>
          <input id="email" type="email" class="form-control" name="email">
        </div>
        <div class="form-group">
          <label for="pwd">Contraseña</label>
          <input type="password" name="password" class="form-control" id="pwd">
        </div>

        <button type="submit" class="btn btn-default">Registrar</button>
    </form>
</template>
